<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>M&M Agro Farms - Order</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 20px;
      background-color: #f5f5f5;
    }
    h2 {
      color: #2e7d32;
    }
    form {
      background-color: #fff;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
      max-width: 500px;
      margin: auto;
    }
    label {
      display: block;
      margin-top: 15px;
      font-weight: bold;
    }
    input, select, textarea {
      width: 100%;
      padding: 8px;
      margin-top: 5px;
      border: 1px solid #ccc;
      border-radius: 5px;
    }
    #totalAmount {
      font-size: 18px;
      margin-top: 20px;
      color: #d32f2f;
      font-weight: bold;
    }
    button {
      margin-top: 20px;
      background-color: #388e3c;
      color: #fff;
      padding: 10px;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }
    button:hover {
      background-color: #2e7d32;
    }
  </style>
</head>
<body>
  <h2>ğŸŒ¿ M&M Agro Farms â€“ Pottel Mutton Order</h2>
  <form id="orderForm">
    <label for="name">ğŸ‘¤ Name:</label>
    <input type="text" id="name" name="name" required>

    <label for="mobile">ğŸ“ Mobile:</label>
    <input type="tel" id="mobile" name="mobile" required>

    <label for="mutton">Mutton (â‚¹850/kg):</label>
    <input type="number" id="mutton" name="mutton" min="0" value="0">

    <label for="chicken">Desi Chicken (â‚¹550/kg):</label>
    <input type="number" id="chicken" name="chicken" min="0" value="0">

    <label for="eggs">Desi Eggs (â‚¹13 each):</label>
    <input type="number" id="eggs" name="eggs" min="0" value="0">

    <label for="address">ğŸ“ Address:</label>
    <textarea id="address" name="address" required></textarea>

    <label for="delivery">ğŸ•“ Delivery Date & Time:</label>
    <input type="datetime-local" id="delivery" name="delivery" required>

    <label for="notes">ğŸ“ Notes (Optional):</label>
    <textarea id="notes" name="notes"></textarea>

    <div id="totalAmount">ğŸ’° Total: â‚¹0.00</div>
    <button type="submit">Submit Order</button>
  </form>

  <script>
    const prices = {
      mutton: 850,
      chicken: 550,
      eggs: 13
    };

    const mutton = document.getElementById("mutton");
    const chicken = document.getElementById("chicken");
    const eggs = document.getElementById("eggs");
    const totalAmount = document.getElementById("totalAmount");

    function calculateTotal() {
      const total =
        (parseFloat(mutton.value || 0) * prices.mutton) +
        (parseFloat(chicken.value || 0) * prices.chicken) +
        (parseFloat(eggs.value || 0) * prices.eggs);
      totalAmount.innerText = `ğŸ’° Total: â‚¹${total.toFixed(2)}`;
      return total;
    }

    mutton.addEventListener("input", calculateTotal);
    chicken.addEventListener("input", calculateTotal);
    eggs.addEventListener("input", calculateTotal);

    document.getElementById("orderForm").addEventListener("submit", function(e) {
      e.preventDefault();

      const name = document.getElementById("name").value;
      const mobile = document.getElementById("mobile").value;
      const muttonQty = parseFloat(mutton.value || 0);
      const chickenQty = parseFloat(chicken.value || 0);
      const eggsQty = parseFloat(eggs.value || 0);
      const address = document.getElementById("address").value;
      const delivery = document.getElementById("delivery").value;
      const notes = document.getElementById("notes").value;
      const total = calculateTotal();
      const orderId = `MM${Math.floor(100000 + Math.random() * 900000)}`;

      const message = `ğŸŒ¿ M&M Agro Farms â€“ Pottel Mutton Order\n` +
        `ğŸ†” Order ID: ${orderId}\n` +
        `ğŸ‘¤ Name: ${name}\n` +
        `ğŸ“ Mobile: ${mobile}\n` +
        `ğŸ“¦ Quantity: ${muttonQty}kg Mutton, ${chickenQty}kg Chicken, ${eggsQty} Eggs\n` +
        `ğŸ’° Total: â‚¹${total.toFixed(2)}\n` +
        `ğŸ“ Address: ${address}\n` +
        `ğŸ•“ Delivery: ${delivery}\n` +
        `ğŸ“ Notes: ${notes || "-"}\n` +
        `âœ… Thank you for choosing M&M Agro Farms!`;

      const encodedMessage = encodeURIComponent(message);

      // Send to customer
      window.open(`https://wa.me/91${mobile}?text=${encodedMessage}`, '_blank');

      // Send copy to admin
      window.open(`https://wa.me/918688014021?text=${encodedMessage}`, '_blank');

      alert("Order submitted successfully!");
      document.getElementById("orderForm").reset();
      calculateTotal();
    });
  </script>
</body>
</html>
